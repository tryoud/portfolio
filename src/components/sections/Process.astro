---
const { site } = Astro.props;
const process = site.process ?? {};
const heading = process.heading ?? "Seamless collaboration.";
const sectionLabel = process.sectionLabel ?? "How I work";
const steps = process.steps ?? [];
const stepList = Array.isArray(steps) && steps.length > 0
  ? steps.map((s) => (typeof s === "string" ? { title: s, description: "" } : { title: s.title ?? "", description: s.description ?? "" }))
  : [];
---

<section id="process" class="border-y border-zinc-100 bg-white py-24" aria-labelledby="process-heading">
  <div class="mx-auto max-w-7xl px-6">
    <div class="mb-16 text-center">
      <span class="mb-2 block text-sm font-semibold uppercase tracking-wider text-zinc-500">{sectionLabel}</span>
      <h2 id="process-heading" class="font-display text-4xl italic text-zinc-900 md:text-5xl">{heading}</h2>
    </div>
    <div class="relative grid grid-cols-1 gap-8 md:grid-cols-4">
      <div class="absolute top-12 left-0 hidden h-px w-full bg-zinc-200 md:block" aria-hidden="true" />
      {stepList.map((step, i) => (
        <div class="relative z-10">
          <div class="mx-auto mb-6 flex h-24 w-24 items-center justify-center rounded-full border border-zinc-200 bg-[#FDFBF7] md:mx-0">
            <span class="font-display text-2xl italic font-bold text-zinc-400">{String(i + 1).padStart(2, "0")}</span>
          </div>
          <h4 class="mb-2 text-center text-lg font-bold text-zinc-900 md:text-left">{step.title}</h4>
          <p class="text-center text-sm text-zinc-500 md:text-left">{step.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>
