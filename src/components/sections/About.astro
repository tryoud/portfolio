---
const { site } = Astro.props;
const about = site.about ?? {};
const paragraph = about.paragraph ?? "";
const bullets = about.bullets ?? [];
const sectionLabel = about.sectionLabel ?? "About";
const blobImageSrc = about.blobImage ?? "/who_am_i/DSC_7577.avif";
---

<section id="about" class="border-t border-zinc-100 bg-white py-24" aria-labelledby="about-heading">
  <div class="mx-auto max-w-7xl px-6">
    <div class="grid gap-12 lg:grid-cols-2 lg:gap-16 lg:items-center">
      <div>
        <span class="mb-2 block text-sm font-semibold uppercase tracking-wider text-zinc-500">{sectionLabel}</span>
        <h2 id="about-heading" class="font-display mb-8 text-4xl italic text-zinc-900 md:text-5xl">Who I am.</h2>
        {paragraph ? <p class="max-w-2xl text-base text-zinc-600">{paragraph}</p> : null}
        {bullets.length > 0 ? (
          <ul class="mt-6 space-y-3">
            {bullets.map((b) => (
              <li class="flex items-start gap-3 text-base text-zinc-600">
                <span class="mt-1.5 h-1.5 w-1.5 shrink-0 rounded-full bg-zinc-400" aria-hidden="true" />
                <span>{b}</span>
              </li>
            ))}
          </ul>
        ) : null}
      </div>

      <div class="about-blob-widget flex justify-center lg:justify-end">
        <svg class="about-blob-svg w-full max-w-[420px] aspect-square" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <clipPath id="aboutBlobClip">
              <path d="M43.1,-68.5C56.2,-58.6,67.5,-47.3,72.3,-33.9C77.2,-20.5,75.5,-4.9,74.2,11.3C72.9,27.6,71.9,44.5,63.8,57.2C55.7,69.8,40.6,78.2,25.5,79.2C10.4,80.1,-4.7,73.6,-20.9,69.6C-37.1,65.5,-54.5,63.9,-66,54.8C-77.5,45.8,-83.2,29.3,-85.7,12.3C-88.3,-4.8,-87.7,-22.3,-79.6,-34.8C-71.5,-47.3,-55.8,-54.9,-41.3,-64.2C-26.7,-73.6,-13.4,-84.7,0.8,-86C15,-87.2,29.9,-78.5,43.1,-68.5Z" transform="translate(100 100)" />
            </clipPath>
          </defs>
          <image
            href={blobImageSrc}
            x="-15"
            y="-45"
            width="230"
            height="230"
            preserveAspectRatio="xMidYMin slice"
            clip-path="url(#aboutBlobClip)"
          />
          <path
            id="aboutBlobTextPath"
            d="M43.1,-68.5C56.2,-58.6,67.5,-47.3,72.3,-33.9C77.2,-20.5,75.5,-4.9,74.2,11.3C72.9,27.6,71.9,44.5,63.8,57.2C55.7,69.8,40.6,78.2,25.5,79.2C10.4,80.1,-4.7,73.6,-20.9,69.6C-37.1,65.5,-54.5,63.9,-66,54.8C-77.5,45.8,-83.2,29.3,-85.7,12.3C-88.3,-4.8,-87.7,-22.3,-79.6,-34.8C-71.5,-47.3,-55.8,-54.9,-41.3,-64.2C-26.7,-73.6,-13.4,-84.7,0.8,-86C15,-87.2,29.9,-78.5,43.1,-68.5Z"
            transform="translate(100 100)"
            fill="none"
            stroke="none"
            pathLength="100"
          />
          <text class="about-blob-text">
            <textPath href="#aboutBlobTextPath" startOffset="0%">❤ MADE WITH LOVE ❤ MADE WITH LOVE ❤ MADE WITH LOVE ❤ MADE WITH LOVE      
              <animate attributeName="startOffset" from="0%" to="100%" dur="60s" repeatCount="indefinite" />
            </textPath>
            <textPath href="#aboutBlobTextPath" startOffset="100%">❤ MADE WITH LOVE ❤ MADE WITH LOVE ❤ MADE WITH LOVE ❤ MADE WITH LOVE    
              <animate attributeName="startOffset" from="-100%" to="0%" dur="60s" repeatCount="indefinite" />
            </textPath>
          </text>
        </svg>
      </div>
    </div>
  </div>
</section>

<style>
  .about-blob-widget {
    --blob-scale: 1;
  }
  .about-blob-svg {
    transition: transform 0.4s ease-out;
  }
  .about-blob-svg:hover {
    transform: scale(1.08);
  }
  .about-blob-svg:hover #aboutBlobClip {
    transform: scale(1.15) translate(0%, 0%);
  }
  #aboutBlobClip {
    transform-origin: center;
    transition: transform 0.4s ease-out;
  }
  .about-blob-text {
    font: 700 10px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    fill: black;
    mix-blend-mode: normal;
    transition: fill 0.5s ease;
  }
  .about-blob-svg:hover .about-blob-text {
    fill: white;
    mix-blend-mode: normal;
    opacity: 1;
  }
</style>
